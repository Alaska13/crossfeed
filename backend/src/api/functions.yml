healthCheck:
  handler: src/api/healthcheck.handler
  events:
    - http:
        path: /
        method: get
        cors: true

authorize:
  handler: src/api/auth.authorize

login:
  handler: src/api/auth.login
  events:
    - http:
        path: /auth/login
        method: post

authCallback:
  handler: src/api/auth.callback
  events:
    - http:
        path: /auth/callback
        method: post

listDomains:
  handler: src/api/domains.list
  events:
    - http:
        path: /domain/search
        method: post
        cors: true
        authorizer: authorize

getDomain:
  handler: src/api/domains.get
  events:
    - http:
        path: /domain/{domainId}
        method: get
        cors: true
        authorizer: authorize

listReports:
  handler: src/api/reports.list
  events:
    - http:
        path: /report/search
        method: post
        cors: true
        authorizer: authorize

getReport:
  handler: src/api/reports.get
  events:
    - http:
        path: /report/{reportId}
        method: get
        cors: true
        authorizer: authorize

listScans:
  handler: src/api/scans.list
  events:
    - http:
        path: /scans
        method: get
        cors: true
        authorizer: authorize

createScan:
  handler: src/api/scans.create
  events:
    - http:
        path: /scans
        method: post
        cors: true
        authorizer: authorize

updateScan:
  handler: src/api/scans.update
  events:
    - http:
        path: /scans/{scanId}
        method: put
        cors: true
        authorizer: authorize

deleteScan:
  handler: src/api/scans.del
  events:
    - http:
        path: /scans/{scanId}
        method: delete
        cors: true
        authorizer: authorize

listOrganizations:
  handler: src/api/organizations.list
  events:
    - http:
        path: /organizations
        method: get
        cors: true
        authorizer: authorize

listPublicOrganizations:
  handler: src/api/organizations.listPublicNames
  events:
    - http:
        path: /organizations/public
        method: get
        cors: true
        authorizer: authorize

getOrganizations:
  handler: src/api/organizations.get
  events:
    - http:
        path: /organizations/{organizationId}
        method: get
        cors: true
        authorizer: authorize

createOrganization:
  handler: src/api/organizations.create
  events:
    - http:
        path: /organizations
        method: post
        cors: true
        authorizer: authorize

updateOrganization:
  handler: src/api/organizations.update
  events:
    - http:
        path: /organizations/{organizationId}
        method: put
        cors: true
        authorizer: authorize

deleteOrganization:
  handler: src/api/organizations.del
  events:
    - http:
        path: /organizations/{organizationId}
        method: delete
        cors: true
        authorizer: authorize

listUsers:
  handler: src/api/users.list
  events:
    - http:
        path: /users
        method: get
        cors: true
        authorizer: authorize

getMe:
  handler: src/api/users.me
  events:
    - http:
        path: /users/me
        method: get
        cors: true
        authorizer: authorize

inviteUser:
  handler: src/api/users.invite
  events:
    - http:
        path: /users
        method: post
        cors: true
        authorizer: authorize

updateUser:
  handler: src/api/users.update
  events:
    - http:
        path: /users/{userId}
        method: put
        cors: true
        authorizer: authorize

deleteUser:
  handler: src/api/users.del
  events:
    - http:
        path: /users/{userId}
        method: delete
        cors: true
        authorizer: authorize

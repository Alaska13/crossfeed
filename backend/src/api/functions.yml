healthCheck:
  handler: src/api/healthcheck.handler
  events:
    - http:
        path: /
        method: get
        cors: true

preSignUp:
  handler: src/api/auth.preSignUp
  events:
    - cognitoUserPool:
        pool: crossfeed-stage-users
        trigger: PreSignUp
        existing: true

listDomains:
  handler: src/api/domains.list
  events:
    - http:
        path: /domain/search
        method: post
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

getDomain:
  handler: src/api/domains.get
  events:
    - http:
        path: /domain/{domainId}
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

listReports:
  handler: src/api/reports.list
  events:
    - http:
        path: /report/search
        method: post
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

getReport:
  handler: src/api/reports.get
  events:
    - http:
        path: /report/{reportId}
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

listScans:
  handler: src/api/scans.list
  events:
    - http:
        path: /scans
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

createScan:
  handler: src/api/scans.create
  events:
    - http:
        path: /scans
        method: post
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

updateScan:
  handler: src/api/scans.update
  events:
    - http:
        path: /scans/{scanId}
        method: put
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

deleteScan:
  handler: src/api/scans.del
  events:
    - http:
        path: /scans/{scanId}
        method: delete
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

listOrganizations:
  handler: src/api/organizations.list
  events:
    - http:
        path: /organizations
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

createOrganization:
  handler: src/api/organizations.create
  events:
    - http:
        path: /organizations
        method: post
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

updateOrganization:
  handler: src/api/organizations.update
  events:
    - http:
        path: /organizations/{organizationId}
        method: put
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

deleteOrganization:
  handler: src/api/organizations.del
  events:
    - http:
        path: /organizations/{organizationId}
        method: delete
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

listUsers:
  handler: src/api/users.list
  events:
    - http:
        path: /users
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

getMe:
  handler: src/api/users.me
  events:
    - http:
        path: /users/me
        method: get
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

inviteUser:
  handler: src/api/users.invite
  events:
    - http:
        path: /users
        method: post
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

updateUser:
  handler: src/api/users.update
  events:
    - http:
        path: /users/{userId}
        method: put
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn

deleteUser:
  handler: src/api/users.del
  events:
    - http:
        path: /users/{userId}
        method: delete
        cors: true
        authorizer:
          arn: arn:aws:cognito-idp:us-west-2:321940898149:userpool/us-west-2_jFr7nh5qn
